{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center text-success mb-4">
        <i class="bi bi-bell"></i> All Notifications
        {% with unread=data.notification.unread %}
        {% if unread %}
        <span class="badge bg-danger">
            {{ unread }}
        </span>
        {% endif %}
        {% endwith %}
    </h2>

    <ul class="list-group list-group-flush mb-2">
    {% for notification in data.notification.messages %}
        <li class="list-group-item">
            {{ notification.message }}
        </li>
    {% endfor %}
    </ul>

    <form action="" method="post">
        {% csrf_token %}
        <div class="text-end">
            <button type="submit" class="btn btn-success btn-lg">
                <i class="bi bi-check-circle"></i> Mark all as read
            </button>
        </div>
    </form>
    
</div>
{% endblock %}