{% extends 'base.html' %}

{% block content %}
<div class="card mb-3">
    <div class="card-body">
        {% load crispy_forms_tags %}
        {% crispy form %}
    </div>
</div>

<div class="d-flex justify-content-between align-items-center mt-5">
    <h2>{{ scholarship.title }}</h2>

    <form method="post">
        {% csrf_token %}
        <button class="btn btn-secondary">
            Disburse Now
        </button>
    </form>
</div>

<div class="table-responsive mb-5">
    <table class="table table-bordered table-hover table-striped">
        <tr>
            <th>S/N</th>
            <th>Application Name</th>
            <th>Status</th>
        </tr>

        {% for application in applications %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>
                <a href="{% url 'scholarship:application' application_id=application.application_id %}"
                    class="text-decoration-none">
                    {{ application }}
                </a>
            </td>
            <td hx-target="this">
                {% include "../parts/application-status.html" %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3" class="text-center text-muted">
                No application found
            </td>
        </tr>
        {% endfor %}
    </table>
</div>

<div class="card mt-3">
    <div class="card-body text-end">
        <a href="{% url 'scholarship:scholarship-disbursement' id=scholarship.id %}" class="btn btn-primary">
            <i class="fa fa-eye"></i> View Disbursements
        </a>
    </div>
</div>
{% endblock %}

{% block body_end %}
{% include "../parts/htmx.html" %}
{% endblock %}
